---
milestone: v1.0
audited: 2026-02-20T23:40:00Z
status: tech_debt
scores:
  requirements: 48/49
  phases: 7/7
  integration: 47/49
  flows: 4/4
gaps:
  requirements: []
  integration:
    - id: "MISSING-01"
      severity: low
      description: "Multi-step config flow test gap — test_config_flow.py.jinja tests single-step path only; when use_multi_step_config_flow=true, generated tests submit CONF_API_KEY on async_step_user but multi-step schema excludes it"
      affected_requirements: ["TEST-02", "COND-03"]
      from: "config_flow.py.jinja (Phase 5 multi-step branch)"
      to: "test_config_flow.py.jinja (Phase 6)"
    - id: "MISSING-02"
      severity: low
      description: "No test template for services feature — use_services=true generates services.py but no test_services.py; unlike use_websocket which has test_websocket.py.jinja"
      affected_requirements: ["TEST-02", "COND-02"]
      from: "services.py.jinja (Phase 5)"
      to: "test templates (Phase 6)"
  flows: []
deferred:
  - id: "CICD-02"
    description: "Release workflow (.github/workflows/release.yml)"
    reason: "Descoped to per-project setup by user decision"
    phase: "Phase 7"
tech_debt:
  - phase: 01-scaffold-fixes
    items:
      - "coordinator.py TODO: Initialize your API client here (intentional template guidance)"
      - "coordinator.py TODO: Replace with actual API call (intentional template stub)"
      - "sensor.py TODO: Create sensor entities based on your data (intentional template guidance)"
      - "config_flow.py TODO: Replace with actual connection test (intentional validation stub)"
  - phase: 03-backend-core
    items:
      - "api.py TODO: Replace /health with actual health-check endpoint (intentional template hook)"
      - "api.py TODO: Replace /api/data with actual data endpoint (intentional template hook)"
  - phase: 05-conditional-patterns
    items:
      - "services.py TODO: Implement with actual coordinator/client data (intentional scaffold placeholder)"
  - phase: integration
    items:
      - "test_config_flow.py.jinja does not adapt to use_multi_step_config_flow=true (tests would fail at runtime)"
      - "No test_services.py.jinja for use_services=true conditional feature"
---

# Milestone v1.0 Audit Report

**Audited:** 2026-02-20
**Status:** tech_debt
**Score:** 48/49 requirements satisfied (1 formally deferred)

## Phase Verification Summary

| Phase | Status | Requirements |
|-------|--------|-------------|
| 1. Scaffold Fixes | ✓ passed | SCAF-01 through SCAF-08 |
| 2. Copier Template Scaffolding | ✓ passed | COPR-01 through COPR-08 |
| 3. Backend Core | ✓ passed | BACK-01 through BACK-10 |
| 4. Frontend Card | ✓ passed | CARD-01 through CARD-08 |
| 5. Conditional Patterns | ✓ passed | COND-01 through COND-06 |
| 6. Test Scaffold | ✓ passed | TEST-01 through TEST-05 |
| 7. CI/CD and Distribution | ✓ passed | CICD-01, CICD-03, CICD-04 (CICD-02 deferred) |

**All 7 phases verified and passed.**

## Requirements Coverage (3-Source Cross-Reference)

### Satisfied (48/49)

| Requirement | VERIFICATION.md | SUMMARY Frontmatter | REQUIREMENTS.md | Status |
|-------------|----------------|---------------------|-----------------|--------|
| SCAF-01 | SATISFIED | 01-01-SUMMARY | [x] Complete | **satisfied** |
| SCAF-02 | SATISFIED | 01-01-SUMMARY | [x] Complete | **satisfied** |
| SCAF-03 | SATISFIED | 01-02-SUMMARY | [x] Complete | **satisfied** |
| SCAF-04 | SATISFIED | 01-01-SUMMARY | [x] Complete | **satisfied** |
| SCAF-05 | SATISFIED | 01-02-SUMMARY | [x] Complete | **satisfied** |
| SCAF-06 | SATISFIED | 01-02-SUMMARY | [x] Complete | **satisfied** |
| SCAF-07 | SATISFIED | 01-01-SUMMARY | [x] Complete | **satisfied** |
| SCAF-08 | SATISFIED | 01-01-SUMMARY | [x] Complete | **satisfied** |
| COPR-01 | SATISFIED | 02-01-SUMMARY | [x] Complete | **satisfied** |
| COPR-02 | SATISFIED | 02-01-SUMMARY | [x] Complete | **satisfied** |
| COPR-03 | SATISFIED | 02-01-SUMMARY | [x] Complete | **satisfied** |
| COPR-04 | SATISFIED | 02-01-SUMMARY | [x] Complete | **satisfied** |
| COPR-05 | SATISFIED | 02-02/02-03-SUMMARY | [x] Complete | **satisfied** |
| COPR-06 | SATISFIED | 02-02-SUMMARY | [x] Complete | **satisfied** |
| COPR-07 | SATISFIED | 02-02-SUMMARY | [x] Complete | **satisfied** |
| COPR-08 | SATISFIED | 02-01-SUMMARY | [x] Complete | **satisfied** |
| BACK-01 | SATISFIED | 03-01-SUMMARY | [x] Complete | **satisfied** |
| BACK-02 | SATISFIED | 03-01-SUMMARY | [x] Complete | **satisfied** |
| BACK-03 | SATISFIED | 03-01-SUMMARY | [x] Complete | **satisfied** |
| BACK-04 | SATISFIED | 03-02-SUMMARY | [x] Complete | **satisfied** |
| BACK-05 | SATISFIED | 03-02-SUMMARY | [x] Complete | **satisfied** |
| BACK-06 | SATISFIED | 03-03-SUMMARY | [x] Complete | **satisfied** |
| BACK-07 | SATISFIED | 03-02-SUMMARY | [x] Complete | **satisfied** |
| BACK-08 | SATISFIED | 03-02-SUMMARY | [x] Complete | **satisfied** |
| BACK-09 | SATISFIED | 03-03-SUMMARY | [x] Complete | **satisfied** |
| BACK-10 | SATISFIED | 03-02-SUMMARY | [x] Complete | **satisfied** |
| CARD-01 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-02 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-03 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-04 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-05 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-06 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-07 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| CARD-08 | SATISFIED | 04-01-SUMMARY | [x] Complete | **satisfied** |
| COND-01 | SATISFIED | 05-01-SUMMARY | [x] Complete | **satisfied** |
| COND-02 | SATISFIED | 05-01-SUMMARY | [x] Complete | **satisfied** |
| COND-03 | SATISFIED | 05-02-SUMMARY | [x] Complete | **satisfied** |
| COND-04 | SATISFIED | 05-02-SUMMARY | [x] Complete | **satisfied** |
| COND-05 | SATISFIED | 05-03-SUMMARY | [x] Complete | **satisfied** |
| COND-06 | SATISFIED | 05-01-SUMMARY | [x] Complete | **satisfied** |
| TEST-01 | SATISFIED | 06-01-SUMMARY | [x] Complete | **satisfied** |
| TEST-02 | SATISFIED | 06-02-SUMMARY | [x] Complete | **satisfied** |
| TEST-03 | SATISFIED | 06-02-SUMMARY | [x] Complete | **satisfied** |
| TEST-04 | SATISFIED | 06-03-SUMMARY | [x] Complete | **satisfied** |
| TEST-05 | SATISFIED | 06-01-SUMMARY | [x] Complete | **satisfied** |
| CICD-01 | SATISFIED | 07-01/07-02-SUMMARY | [x] Complete | **satisfied** |
| CICD-03 | SATISFIED | 07-01-SUMMARY | [x] Complete | **satisfied** |
| CICD-04 | SATISFIED | 07-01-SUMMARY | [x] Complete | **satisfied** |

### Deferred (1/49)

| Requirement | Phase | Reason | Status |
|-------------|-------|--------|--------|
| CICD-02 | Phase 7 | Release workflow descoped to per-project setup by user decision | **deferred** |

### Orphaned Requirements

None. All 49 requirements are accounted for across all three sources.

## Cross-Phase Integration

**Status:** 47/49 wired (2 low-severity gaps)

| Check | Result | Count |
|-------|--------|-------|
| Connected exports | ✓ | 18 |
| Orphaned exports | ✓ | 0 |
| Missing connections | ⚠ | 2 (low severity) |
| Broken E2E flows | ✓ | 0 |

### E2E Flows Verified (4/4)

1. **copier copy --defaults → valid integration → hassfest passes** — complete (live CI confirmed, run 22245235007)
2. **copier copy all-ON → conditional files → manifest has websocket_api** — complete
3. **Config flow → ApiClient → coordinator → sensor → Lovelace card** — complete
4. **Options flow → entry.data updated → coordinator reload** — complete

### Integration Gaps (Low Severity)

**MISSING-01: Multi-step config flow test gap**
- `test_config_flow.py.jinja` tests single-step path only
- When `use_multi_step_config_flow=true`, tests would submit `CONF_API_KEY` on `async_step_user` but multi-step schema excludes it
- Runtime source code is correct; gap is test adaptability
- Affected: TEST-02, COND-03

**MISSING-02: No test template for services feature**
- `use_services=true` generates `services.py` but no `test_services.py`
- Unlike `use_websocket` which has `test_websocket.py.jinja`
- Affected: TEST-02, COND-02

## Tech Debt

### Intentional Template Guidance (by design)

All TODO comments are scaffold extension points for child projects — not missing implementations:

| Phase | File | Item |
|-------|------|------|
| 1 | coordinator.py | TODO: Initialize API client |
| 1 | coordinator.py | TODO: Replace with actual API call |
| 1 | sensor.py | TODO: Create sensor entities |
| 1 | config_flow.py | TODO: Replace with actual connection test |
| 3 | api.py | TODO: Replace /health endpoint |
| 3 | api.py | TODO: Replace /api/data endpoint |
| 5 | services.py | TODO: Implement with actual data |

### Test Coverage Gaps (v2 candidates)

| Item | Fix |
|------|-----|
| test_config_flow.py.jinja doesn't adapt to multi-step mode | Add `[% if use_multi_step_config_flow %]` branches in test file |
| No test_services.py.jinja | Add conditional `[% if use_services %]test_services.py[% endif %].jinja` |

## Human Verification Items (Accumulated)

Items flagged across phase verifications — require live HA instance:

| Phase | Test | Why Human |
|-------|------|-----------|
| 1 | HA runtime load test (no deprecation warnings) | Requires running HA 2025.7+ |
| 2 | hassfest validation | Confirmed passing via live CI (run 22245235007) |
| 3 | Config flow + connection validation in real HA | Requires live API endpoint |
| 4 | Card in Add Card picker | Requires live HA |
| 4 | Loading spinner and error state visuals | Requires HA runtime |
| 6 | pytest run on generated project | Requires pytest + HA test framework |
| 7 | Live CI hassfest/HACS | Confirmed passing via live CI (run 22245235007) |

---

_Audited: 2026-02-20_
_Auditor: Claude (gsd-audit-milestone)_
_Previous audit: 2026-02-20T06:00:00Z (gaps_found — phases 6-7 not yet complete)_
